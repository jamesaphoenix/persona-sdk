---
title: Working with Personas
description: Learn how to create and manage personas with Persona SDK
---

This guide covers creating individual personas, managing groups, and generating personas at scale.

## Using PersonaBuilder

The `PersonaBuilder` provides a fluent API for creating personas:

```typescript
import { PersonaBuilder } from '@jamesaphoenix/persona-sdk';

const persona = PersonaBuilder.create()
  .withName('Sarah Chen')
  .withAge(28)
  .withOccupation('Product Manager')
  .withSex('female')
  .withAttribute('location', 'San Francisco')
  .withAttribute('interests', ['technology', 'design', 'travel'])
  .withAttribute('yearsExperience', 5)
  .build();

console.log(persona.name); // "Sarah Chen"
console.log(persona.attributes.interests); // ["technology", "design", "travel"]
```

## Required attributes

Every persona must have these attributes:

- `name` - Full name as a string
- `age` - Age as a number
- `occupation` - Job title or role
- `sex` - One of 'male', 'female', or 'other'

## Adding custom attributes

Extend personas with any data using `withAttribute()`:

```typescript
const developer = PersonaBuilder.create()
  .withName('Alex Johnson')
  .withAge(32)
  .withOccupation('Senior Developer')
  .withSex('other')
  .withAttribute('skills', ['TypeScript', 'React', 'Node.js'])
  .withAttribute('remote', true)
  .withAttribute('salary', 120000)
  .withAttribute('teamSize', 8)
  .build();
```

## Managing persona groups

Use `PersonaGroup` to work with collections:

```typescript
import { PersonaGroup, Persona } from '@jamesaphoenix/persona-sdk';

// Create a group
const engineeringTeam = new PersonaGroup('Engineering Team');

// Add individual personas
engineeringTeam.add(developer);
engineeringTeam.add(persona);

// Get group statistics
console.log(`Team size: ${engineeringTeam.size}`);
console.log(`Average age: ${engineeringTeam.getStatistics('age').mean}`);

// Filter personas
const seniorMembers = engineeringTeam.personas.filter(
  p => p.attributes.yearsExperience > 5
);
```

## Generating from distributions

Create realistic personas at scale using statistical distributions:

```typescript
import { 
  PersonaGroup, 
  NormalDistribution,
  UniformDistribution,
  CategoricalDistribution 
} from '@jamesaphoenix/persona-sdk';

const marketingTeam = new PersonaGroup('Marketing Team');

// Generate 50 personas with varied attributes
marketingTeam.generateFromDistributions(50, {
  age: new NormalDistribution(35, 7), // Mean 35, std dev 7
  occupation: new CategoricalDistribution([
    { value: 'Marketing Manager', probability: 0.2 },
    { value: 'Content Strategist', probability: 0.3 },
    { value: 'SEO Specialist', probability: 0.25 },
    { value: 'Social Media Manager', probability: 0.25 }
  ]),
  sex: 'other', // Fixed value for all
  yearsInMarketing: new UniformDistribution(2, 15),
  remotePreference: new CategoricalDistribution([
    { value: 'fully-remote', probability: 0.4 },
    { value: 'hybrid', probability: 0.45 },
    { value: 'in-office', probability: 0.15 }
  ])
});
```

## Quick random generation

Generate test personas instantly:

```typescript
const builder = new PersonaBuilder();

// Generate 10 random personas
const testPersonas = Array.from({ length: 10 }, () => 
  builder.randomPersona()
);

// Each persona will have randomized:
// - Name (from a preset list)
// - Age (18-80)
// - Occupation (from common occupations)
// - Sex (random distribution)
```

## AI-powered insights

Generate structured insights about your personas using AI:

```typescript
import { z } from 'zod';

// Define the structure you want
const MarketingInsightSchema = z.object({
  targetSegments: z.array(z.string()),
  keyMessages: z.array(z.string()),
  channels: z.array(z.string()),
  challenges: z.array(z.string())
});

// Generate insights (requires OpenAI API key)
const insights = await marketingTeam.generateStructuredOutput(
  MarketingInsightSchema,
  'Analyze this group for a new productivity app launch'
);

console.log(insights.targetSegments);
// ["Time-conscious professionals", "Remote workers", ...]
```

## Type-safe personas

Define custom attribute types for better TypeScript support:

```typescript
interface MarketingPersona extends PersonaAttributes {
  campaignInterest: 'email' | 'social' | 'content';
  budget: number;
  decisionMaker: boolean;
}

const buyer: Persona<MarketingPersona> = PersonaBuilder.create()
  .withName('Decision Maker')
  .withAge(45)
  .withOccupation('VP Marketing')
  .withSex('female')
  .withAttribute('campaignInterest', 'content')
  .withAttribute('budget', 500000)
  .withAttribute('decisionMaker', true)
  .build();
```

## Best practices

### Use meaningful names
Choose names that reflect your target audience demographics.

### Add relevant attributes
Include only attributes that matter for your specific use case.

### Leverage distributions
Use statistical distributions for realistic variation in large datasets.

### Organize into groups
Group personas logically for easier analysis and management.

## Next steps

- [Statistical Distributions](/docs/distributions) - Generate realistic data
- [AI Features](/docs/ai-features) - Enhance personas with AI
- [API Reference](/docs/api) - Complete API documentation